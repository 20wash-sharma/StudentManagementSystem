<div class="row">


    <button   data-dismiss="modal" type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal" data-whatever="@mdo">Add Marks</button>
<button   data-dismiss="modal" type="button" class="btn btn-primary" data-toggle="modal" data-target="#classModal" data-whatever="@mdo">Add Class</button>
<button   data-dismiss="modal" type="button" class="btn btn-primary" data-toggle="modal" data-target="#subjectModal" data-whatever="@mdo">Add Subject</button>
<button   data-dismiss="modal" type="button" class="btn btn-primary" data-toggle="modal" data-target="#studentModal" data-whatever="@mdo">Add Student</button>

    <div class="col-md-8 col-md-offset-2">
        <table class="table table-striped table-bordered">
            <tr><th rowspan="2">Student Name</th><th rowspan="2">Class Level</th><th  colspan="{{subjectslength}}">Subjects</th></tr>
            <tr><th ng-repeat="subject in subjects">{{subject.subject_name}}</th></tr>
            <tr ng-repeat="student in students"><th>{{student.student_name}}</th><th>{{student.class_level}}</th><th ng-repeat="subject in subjects" ><span ng-init="stmarks=info.student_name==student.student_name && subject.subject_name==info.subject_name?info.marks:null" ng-repeat="info in studentMarkInfo">{{stmarks}}</span></th></tr>
           
        </table>

       

    </div>
</div>

<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Add Marks</h4>
            </div>
            <form name="mymarksform" novalidate method="post" >
                <div class="modal-body">
                 
                    <div class="form-group">
                        <label for="example-text-input" class="col-2 col-form-label">Students</label>
                        <div class="col-10">
                            <select class="form-control" name="student" ng-required="true" ng-model="ssstudent.student" ng-change="onStudentDropDownChange(ssstudent.student)">
                                <option 
                                    ng-repeat="studentv in students"
                                    value="{{studentv.student_id}}">
                                    {{studentv.student_name}}
                                </option>
                            </select>
                             <p class="text-danger"
                               ng-show="mymarksform.student.$invalid && mymarksform.student.$touched">
                                Student required</p>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="example-text-input" class="col-2 col-form-label">Subject</label>
                        <div class="col-10">
                            <select class="form-control" name="subject" ng-required="true" ng-model="ssstudent.subject" placeholder="Subjects" >
                                <option 
                                    ng-repeat="subject in filteredsubjects"
                                    value="{{subject.subject_id}}">
                                    {{subject.subject_name}}
                                </option>
                            </select>
                            <p class="text-danger"
                               ng-show="mymarksform.subject.$invalid && mymarksform.subject.$touched">
                                Subject required</p>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="example-text-input" class="col-2 col-form-label">Mark</label>
                        <div class="col-10">
                            <input class="form-control" type="text" name="mark" placeholder="Mark"
                                   ng-model="ssstudent.mark" ng-required="true">
                            <p class="text-danger"
                               ng-show="mymarksform.mark.$invalid && mymarksform.mark.$touched">
                                Mark required</p>
                        </div>
                    </div>




                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" ng-click="addMarks()"  data-dismiss="modal" ng-disabled="mymarksform.$invalid"  class="btn btn-primary" >Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="modal fade" id="subjectModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Add Subject</h4>
            </div>
            <form name="mysubjectform" novalidate method="post" >
                <div class="modal-body">
                    
                 
                    <div class="form-group">
                        <label for="example-text-input" class="col-2 col-form-label">Subject Name</label>
                        <div class="col-10">
                            <input class="form-control" type="text" name="subjectname" placeholder="subject name"
                                   ng-model="ssubject.subjectname" ng-required="true"/>
                            
                            <p class="text-danger"
                   ng-show="mysubjectform.subjectname.$invalid && mysubjectform.subjectname.$touched">
                    subject name required</p>
                        </div>
                    </div>



                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" ng-click="addSubject()"  data-dismiss="modal" ng-disabled="mysubjectform.$invalid"  class="btn btn-primary" >Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="modal fade" id="classModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" >
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Add Class</h4>
            </div>
            <form name="myclassform" novalidate method="post" >
                <div class="modal-body">
                    
                   
                    <div class="form-group">
                        <label for="example-text-input" class="col-2 col-form-label">class Level</label>
                        <div class="col-10">
                            <input class="form-control" type="text" name="classlevel" placeholder="class level"
                                   ng-model="sclass.classlevel" ng-required="true">
                            <p class="text-danger"
                               ng-show="myclassform.classlevel.$invalid && myclassform.classlevel.$touched">
                                class level required</p>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" ng-click="addClass()"  data-dismiss="modal" ng-disabled="myclassform.$invalid"  class="btn btn-primary" >Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="modal fade" id="studentModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" >
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Add Student</h4>
            </div>
            
            <form name="mystudentform" novalidate method="post" >
                <div class="modal-body">
                    
                   
                    <div class="form-group">
                        <label for="example-text-input" class="col-2 col-form-label">Student Name</label>
                        <div class="col-10">
                             <input class="form-control" type="text" name="name" placeholder="Name"
                       ng-model="sstudent.name" ng-required="true">
                <p class="text-danger"
                   ng-show="mystudentform.name.$invalid && mystudentform.name.$touched">
                    Name required</p>
                        </div>
                    </div>
                     <div class="form-group">
                        <label for="example-text-input" class="col-2 col-form-label">Class</label>
                        <div class="col-10">
                              <select class="form-control" ng-model="sstudent.class" ng-required="true" name="class">
                    <option 
                        ng-repeat="class in classes"
                        value="{{class.class_id}}">
                        {{class.class_level}}
                    </option>
                </select>
                            <p class="text-danger"
                   ng-show="mystudentform.class.$invalid && mystudentform.class.$touched">
                    Class required</p>
                            
                        </div>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" ng-click="addStudent()"  data-dismiss="modal" ng-disabled="mystudentform.$invalid"  class="btn btn-primary" >Submit</button>
                </div>
            </form>
        </div>
    </div>
</div>